(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('fiona',[],b):'object'==typeof exports?exports.fiona=b():a.fiona=b()})(this,function(){var a=Math.floor;return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){const d=c(2),e=c(4);Object.keys(e).forEach((a)=>{d.fn[a]=e[a]}),a.exports=d},function(b,c,d){function e(b){const c=void 0===b?a(1e8*Math.random()):b,d=(a)=>Object.prototype.toString.call(a).slice(8,-1),e=(a)=>{if('string'==typeof a){let b=0;for(let c,d=0;d<a.length;d++){c=0;for(let b=0;b<a.length;b++)c=a.charCodeAt(b)+(c<<6)+(c<<16)-c;b+=c}return b}return a};this.clone=function(){return g(c).state(this.state())};const h=(a)=>a;let i=h;this.weighting=(a)=>'function'==typeof a?(i=a,this):null===a?(i=h,this):i(a);let{random:j,reseed:k,getState:l,setState:m}=f(0);this.random=()=>this.weighting(j()),k(e(c)),this.state=((a,b,c)=>(d)=>void 0===d?b():(null===d?c(a):c(d),this))(l(),l,m),this.reseed=function(a){return k(e(null===a?c:a)),this};let n=null;const o=(a,b)=>Array(a).fill(b),p=(a,b)=>{const e=a,h=(a,b,i)=>{if('Object'===d(a))return Object.keys(a).forEach((c)=>{const d=`${b}.${c}`;a[c]=h(a[c],d,null)}),a;if('Array'===d(a))return a.map((a,c)=>{const d=b.match(/^data\[(\d+)\]$/),e=d?`data[${1*d[1]+c}]`:`${b}[${c}]`;return h(a,e,c)});if('Function'===d(a)){const d=g(`${b}/${c}`,f);return h(a({me:this,pos:b,data:e,seeded:d,arr:o},i),b,i)}return a};return h(a,b)};return this.data=function(a){if('Function'===d(a)){const b=g(`() => data/${c}`,f);a=a({me:this,pos:'() => data',data:n,seeded:b,arr:o})}return n='Array'===d(a)?(n||[]).concat(p(a,`data[${(n||[]).length}]`,0)):'Object'===d(a)?Object.assign({},n||{},p(a,'data',null)):a,n},this.chain=function(a){return this.data(a),this},this.value=function(){return n},this.info=()=>({initseed:c}),this.callback=function(a){return a.bind(this)(n,this)},this}const f=d(3);e.prototype={constructor:e};const g=(...a)=>new e(...a);g.version='__VERSION__',g.fn=e.prototype,b.exports=g},function(a){const b=[123456789,362436069,521288629,88675123];a.exports=(a)=>{let[c,d,e,f]=b;const g=function(){var a=c^c<<11;return c=d,d=e,e=f,f=f^f>>19^(a^a>>8),f/2147483647},h=(a)=>{var h=Math.round;[c,d,e,f]=b.map((b)=>b+a);const i=[h(1e16*g()),h(1e16*g()),h(1e16*g()),h(1e16*g())];c=i[0],d=i[1],e=i[2],f=i[3]};return h(a),{random:()=>g(),reseed:h,getState:()=>[c,d,e,f],setState:(a)=>[c,d,e,f]=a}}},function(b){const c=(a,b,c)=>{const d=b.reduce((a,b,d)=>(a.push((a[d-1]||0)+('number'==typeof c[d]?c[d]:1)),a),[]),e=a*d[d.length-1];let f;return d.every((a,b)=>!!(e>a)||(f=b,!1)),f};b.exports={number:function({max:b=1e6,min:c=0}={}){return a(this.random()*(1+b-c)+c)},oneOf:function(a,{weights:b=[]}={}){return a[c(this.random(),a,b)]},choose:function(a,b,{weights:d=[]}={}){const e=b.slice(0),f=d.slice(0);return Array(a||0).fill(null).map(()=>{const a=c(this.random(),e,f),b=e[a];return e[a]=e[0],e.shift(),b})}}}])});