(function(a,b){'object'==typeof exports&&'object'==typeof module?module.exports=b():'function'==typeof define&&define.amd?define('fiona',[],b):'object'==typeof exports?exports.fiona=b():a.fiona=b()})('undefined'==typeof self?this:self,function(){var a=Math.floor;return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=2)}([function(a){const b=(a)=>Object.prototype.toString.call(a).slice(8,-1);a.exports={type:b,processSeed:(a)=>{if('String'===b(a)){let b=0;for(let c,d=0;d<a.length;d++){c=0;for(let b=0;b<a.length;b++)c=a.charCodeAt(b)+(c<<6)+(c<<16)-c;b+=c}return b}return a}}},function(a){const b=[123456789,362436069,521288629,88675123];a.exports=(a)=>{let[c,d,e,f]=b;const g=()=>{const a=c^c<<11;return[c,d,e]=[d,e,f],f=f^f>>19^(a^a>>8),f/2147483647},h=()=>Math.round(1e16*g()),i=(a)=>{[c,d,e,f]=b.map((b)=>b+a),[c,d,e,f]=[h(),h(),h(),h()]};return i(a),{random:()=>g(),reseed:i,getState:()=>[c,d,e,f],setState:(a)=>[c,d,e,f]=a}}},function(a,b,c){a.exports=c(3)},function(a,b,c){const d=c(4),e=c(8);Object.keys(e).forEach((a)=>d.plugin(a,e[a])),a.exports=d},function(b,c,d){function e(b){const c=void 0===b?a(1e8*Math.random()):b;this.weighting=g(this);const{state:d,reseed:e,random:k}=h(this,c);this.state=d,this.random=k,this.reseed=e;const{recurseData:l,handleFunction:m}=f(j,c,this);let n=null;return this.data=(a)=>{switch('Function'===i(a)&&(a=a(m('() => data',n))),i(a)){case'Array':n=l((n||[]).concat(a),`data[${(n||[]).length}]`);break;case'Object':n=l(Object.assign({},n||{},a),'data');break;default:n=a;}return n},this.chain=(a)=>(this.data(a),this),this.value=()=>n,this.callback=(a)=>a.bind(this)(n,this),this.info=()=>({initseed:c}),this.clone=()=>j(c).state(this.state()),this}const f=d(5),g=d(6),h=d(7),{type:i}=d(0),j=(...a)=>new e(...a);j.version='__VERSION__',j.fn=e.prototype={constructor:e},j.plugin=(a,b)=>j.fn[a]=function(...a){return b({seeded:this},...a)},j.call=(a,...b)=>({seeded:c})=>c[a](...b),b.exports=j},function(a,b,c){const d=c(1),{type:e}=c(0);a.exports=(a,b,c)=>{const f=(a,b,c,d)=>{c===void 0&&(c=a);const f={Object:h,Array:i,Function:k}[e(c)];return f?f(c,a,b,d):c},g=(a,b)=>Array(a).fill(b),h=(a,b,c)=>(Object.keys(a).forEach((d)=>{const e=`${c}.${d}`;a[d]=f(b,e,a[d],null)}),a),i=(a,b,c)=>a.map((a,d)=>{const e=c.match(/^data\[(\d+)\]$/),g=e?`data[${1*e[1]+d}]`:`${c}[${d}]`;return f(b,g,a,d)}),j=(e,f)=>({me:c,pos:e,data:f,seeded:a(`${e}/${b}`,d),arr:g}),k=(a,b,c,d)=>f(b,c,a(j(c,b),d),d);return{handleFunction:j,recurseData:f}}},function(a,b,c){const{type:d}=c(0),e=(a)=>a;a.exports=(a)=>{let b=e;return(c)=>'Function'===d(c)?(b=c,a):null===c?(b=e,a):b(c)}},function(a,b,c){const d=c(1),{processSeed:e}=c(0);a.exports=(a,b)=>{const{reseed:c,getState:f,setState:g,random:h}=d(0);c(e(b));const i=f();return{state:(b)=>void 0===b?f():(null===b?g(i):g(b),a),reseed:function(d){return c(e(null===d?b:d)),a},random:()=>a.weighting(h())}}},function(b){const c=(a,b,c)=>{const d=b.reduce((a,b,d)=>(a.push((a[d-1]||0)+('number'==typeof c[d]?c[d]:1)),a),[]),e=a*d[d.length-1];let f;return d.every((a,b)=>!!(e>a)||(f=b,!1)),f};b.exports={number:function({seeded:b},{max:c=1e6,min:d=0,precision:e=0}={}){const f=Math.pow(10,e);return a((b.random()*(1+c-d)+d)*f)/f},oneOf:function({seeded:a},b,{weights:d=[]}={}){return b[c(a.random(),b,d)]},choose:function({seeded:a},b,d,{weights:e=[]}={}){const f=d.slice(0),g=e.slice(0);return Array(b||0).fill(null).map(()=>{const b=c(a.random(),f,g),d=f[b];return f[b]=f[0],f.shift(),d})}}}])});