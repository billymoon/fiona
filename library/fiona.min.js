!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Fiona=t()}(this,(function(){"use strict";const e=[],t=[123456789,362436069,521288629,88675123],r=e=>{let[r,n,a,s]=t;const o=()=>{const e=r^r<<11;return[r,n,a]=[n,a,s],(s=s^s>>19^e^e>>8)/2147483647},i=()=>Math.round(1e16*o()),l=e=>{[r,n,a,s]=t.map(t=>t+e),[r,n,a,s]=[i(),i(),i(),i()]};return l(e),{random:()=>o(),reverse:()=>(()=>{let e=s^a^a>>19;return e^=e>>8,e^=e>>16,e^=e<<11,e^=e<<22,[s,a,n]=[a,n,r],r=e,s/2147483647})(),reseed:l,getState:()=>[r,n,a,s],setState:e=>[r,n,a,s]=e}},n=e=>{if("string"==typeof e){let t=0;for(let r=0;r<e.length;r++){let r=0;for(let t=0;t<e.length;t++)r=e.charCodeAt(t)+(r<<6)+(r<<16)-r;t+=r}return t}return e},a=e=>e;var s=(e,t)=>{const{reseed:s,getState:o,setState:i,random:l,reverse:h}=r(0);s(n(t));const u=o(),c=(e=>{let t=a;return r=>"function"==typeof r?(t=r,e):null===r?(t=a,e):t(r)})(e);return{state:t=>void 0===t?o():(i(null===t?u:t),e),reset:r=>(s(n(void 0!==r?r:t)),e),random:()=>c(l()),reverse:h,distribution:c}};function o(e,t){const r=void 0!==e?e:Math.floor(1e8*Math.random()),{state:n,reset:a,random:s,reverse:o,distribution:i}=t(this,r);return Object.assign(this,{state:n,reset:a,random:s,reverse:o,distribution:i}),this.info=()=>({initseed:r}),this}o.prototype={constructor:o};const i=(t,r,n,a)=>null==r?r:r.constructor===Array?((e,t,r,n)=>{for(let a=0;a<t.length;a++)t[a]=i(e,t[a],`${r}[${a}]`,n);return t})(t,r,n,a):r.constructor===Object?((e,t,r,n)=>{for(let a in t)t[a]=i(e,t[a],`${r}.${a}`,n);return t})(t,r,n,a):"function"==typeof r?((t,r,n,a)=>{const o=new t.constructor(`${n}/${t.info().initseed}`,s);o.data=a;const l=-1!==e.indexOf(r)?r():r(o);return i(t,l,n,"root"===n?l:a)})(t,r,n,a):r.constructor===RegExp?((e,t)=>e.regex?e.regex(t):t)(t,r):r,l=e=>null==e?e:e.constructor===Array?e.map(l):e.constructor===Object?Object.entries(e).reduce((e,[t,r])=>({...e,[t]:l(r)}),{}):e,h=(e,t)=>{const r=l(t);return i(e,r,"root",r)},u=e=>new o(e,s);u.version="4.0.0";u.register=((e,t)=>(...r)=>r.forEach(r=>{const[n,a]="function"==typeof r?[r.name,r]:r;e(n[0].toUpperCase()+n.slice(1),(...e)=>t=>a(t,...e)),t(n,(function(...e){return a(this,...e)}))}))((t,r)=>{const n=(...e)=>r(...e);return e.push(n),u[t]=n},(e,t)=>o.prototype[e]=t),u.Random=()=>e=>e.random();u.register(["clone",e=>u(e.info().initseed).state(e.state())]),u.register(["number",(e,{max:t=1e6,min:r=0,precision:n=0}={})=>{const a=Math.pow(10,n);return Math.floor((e.random()*(1+t-r)+r)*a)/a}],["object",(e,...t)=>t.reduce((t,r)=>h(e,r),{})],["json",(e,...t)=>JSON.stringify(e.object(...t))],["string",(e,[t,...r],...n)=>{const a=h(e,n);return r.reduce((e,t,r)=>`${e}${a[r]}${t}`,t)}],["array",(e,t,r,n=(e=>e))=>{const a="string"==typeof n?e=>e.join(n):n,s="object"==typeof t&&t.constructor===Object?e.number(t):h(e.clone(),t);return a(h(e,Array(s).fill(r)))}]);const c=(e,{chance:t=.5}={})=>e.random()<t,p=(e,t,r)=>{const n=t.reduce((e,t,n)=>(e.push((e[n-1]||0)+("number"==typeof r[n]?r[n]:1)),e),[]),a=e*n[n.length-1];let s;return n.every((e,t)=>a>e||(s=t,!1)),s},m=(e,t,r,{weights:n=[]}={})=>{const a=r.slice(0),s=n.slice(0);return Array(t||0).fill(null).map((t,r)=>{const n=p(e.random(),a,s),o=a[n];return a[n]=a[0],a.shift(),o})},g=(e,t,{weights:r=[]}={})=>t[p(e.random(),t,r)],d=(e,{min:t="1940",max:r="2000",long:n=!1}={})=>{const a=1*new Date(t),s=1*new Date(r);if(a>s)throw Error("min date must be lower than max date");const o=s-a,i=new Date(e.number({max:o})+a).toISOString();return n?i:i.slice(0,10)},f=(e,t,r)=>"#"+[e,t,r].map(e=>`0${e.toString(16)}`.slice(-2)).join(""),y=e=>e.slice(1).match(/(..)/g).map(e=>parseInt(e,16)),v=e=>{const t=e.map(({start:e,end:t})=>((e,t)=>r=>e.reduce((n,a,s)=>{const o=Math.min(t[s],e[s]),i=Math.max(t[s],e[s])-o;return`${n}${(o+Math.ceil(i*r)).toString(16)}`},"#"))(y(e),y(t)));return r=>{const n=Math.floor(e.length*r);return t[n](r)}},b=(e,t)=>{const{seed:r,width:n,height:a,contrast:s,bg:o,colors:i}=Object.assign(e.object({seed:e.number(),width:1e3,height:1e3,contrast:e.number({max:1e3}),bg:f(e.number({max:255}),e.number({max:255}),e.number({max:255})),colors:e.array({min:1,max:10},e=>({start:f(e.number({max:255}),e.number({max:255}),e.number({max:255})),end:f(e.number({max:255}),e.number({max:255}),e.number({max:255}))}))}),t),l=v(i),h=[];for(let e=0;e<100;e++){const t=l(e/100),s=r*e%360,[o,i,u,c]=[5*e,5/r,e*r,e].map(Math.floor).map(e=>e%(3*Math.max(n,a)));h.push(`<rect x="${o}" y="${i}" width="${u}" height="${c}" transform="rotate(${s})" fill="${t}" />`)}return`data:image/svg+xml;utf8,${(e=>encodeURIComponent(`\n    <svg width="${n}" height="${a}" viewBox="${-1*n} ${-1*a} ${2*n} ${2*a}" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n      <style>svg { background-color: ${o}; }</style>\n      ${e}\n    </svg>\n  `))(h.join("\n"))}`},w=(e,{frequency:t=.1,pool:r=10}={})=>(e.random()<=t&&e.reset(1e16*(Math.floor(e.random()*r+1)/r+1)),e),x=(e,{qty:t=15}={})=>{const r=e.random()<.2?"lorem ipsum ":"";let n=[];for(;n.length<t;)n=n.concat("dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est laborum".split(" "));const a=Math.ceil(t-t/3),s=Math.ceil(t+t/3)-2;return r+e.choose(e.number({min:a,max:s}),n).join(" ")},R=e=>e.lorem({qty:1}).split(" ")[0],A=e=>{const t=e.lorem({qty:25});return t[0].toUpperCase()+t.slice(1)+"."},C=e=>Array(e.number({min:1,max:10})).fill(0).map(t=>e.sentence()).join("  "),E={male:{firstname:["Jack","James","Oliver","Lewis","Logan","Harry","Noah","Leo","Charlie","Alexander","Jacob","Lucas","Harris","Mason","Alfie","Finlay","Ethan","Daniel","Aaron","Max","Archie","Thomas","Matthew","Adam","Rory","Nathan","Callum","Joshua","Oscar","Brodie","Cameron","Harrison","William","Finn","Riley","Dylan","Samuel","Jaxon","Liam","Ollie","Jamie","Connor","Luke","Theo","Ryan","Andrew","Caleb","Jude","Joseph","Benjamin","Muhammad","Arran","Angus","John","David","Isaac","Cole","Hamish","Robert","Jackson","Michael","George","Kai","Leon","Kyle","Ben","Luca","Blake","Murray","Aiden","Carter","Jake","Owen","Cooper","Freddie","Ruaridh","Jayden","Aidan","Fraser","Reuben","Euan","Sam","Blair","Calvin","Christopher","Alex","Arthur","Calum","Cody","Elliot","Josh","Lachlan","Zac","Arlo","Kayden","Robbie","Tyler","Conor","Henry","Hunter","Zachary"],title:["Mr","Dr","Sir","Lord"]},female:{firstname:["Fiona","Aria","Mia","Emily","Sophie","Ava","Amelia","Jessica","Ella","Lucy","Charlotte","Ellie","Lily","Grace","Sophia","Chloe","Evie","Emma","Millie","Eilidh","Anna","Eva","Hannah","Erin","Layla","Ruby","Orla","Harper","Georgia","Maisie","Isabella","Katie","Zoe","Holly","Robyn","Amber","Rosie","Zara","Emilia","Sofia","Skye","Poppy","Daisy","Alice","Lilly","Esme","Rebecca","Scarlett","Ivy","Abigail","Imogen","Leah","Amy","Lacey","Maya","Niamh","Willow","Thea","Elizabeth","Abbie","Lexi","Hollie","Molly","Brooke","Gracie","Sarah","Cara","Sienna","Mila","Phoebe","Rose","Lola","Iona","Ayla","Megan","Paige","Kayla","Julia","Mya","Alexandra","Arianna","Summer","Hope","Quinn","Maria","Eve","Violet","Ariana","Arya","Bella","Elsie","Lillie","Florence","Hanna","Madison","Amelie","Matilda","Lauren"],title:["Miss","Mrs","Dr","Ms","Dame"]},surname:["Moon","Smith","Brown","Wilson","Robertson","Campbell","Stewart","Thomson","Anderson","Scott","MacDonald","Reid","Murray","Clark","Taylor","Ross","Young","Paterson","Watson","Mitchell","Fraser"]},S=e=>e&&("f"===e[0].toLowerCase()?"female":"male"),I=e=>e.random()<.5?"male":"female",O=(e,{gender:t}={})=>e.oneOf(E[S(t||e.gender())].title),M=(e,{gender:t}={})=>e.oneOf(E[S(t||e.gender())].firstname),k=(e,{gender:t}={})=>e.choose(e.clone().distribution(e=>e*e*e).number({min:1,max:3}),E[S(t||e.gender())].firstname).join(" "),T=e=>e.choose(e.clone().distribution(e=>e*e*e).number({min:1,max:2}),E.surname).join(e.bool()?" ":"-"),H=(e,{gender:t}={})=>{const r=S(t||e.gender());return`${e.title({gender:r})} ${e.firstnames({gender:r})} ${e.surname()}`},$=e=>(t,r=/[A-F0-9]{16}/)=>{const n=new e(RegExp(r));return n.randInt=(e,r)=>e+Math.floor(t.random()*(1+r-e)),n.gen()},_=(e,t,{qty:r}={})=>e.choose(void 0!==r?r:t.length,t);var N={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7};const L=()=>[{type:N.RANGE,from:48,to:57}],j=()=>[{type:N.CHAR,value:95},{type:N.RANGE,from:97,to:122},{type:N.RANGE,from:65,to:90}].concat(L()),P=()=>[{type:N.CHAR,value:9},{type:N.CHAR,value:10},{type:N.CHAR,value:11},{type:N.CHAR,value:12},{type:N.CHAR,value:13},{type:N.CHAR,value:32},{type:N.CHAR,value:160},{type:N.CHAR,value:5760},{type:N.RANGE,from:8192,to:8202},{type:N.CHAR,value:8232},{type:N.CHAR,value:8233},{type:N.CHAR,value:8239},{type:N.CHAR,value:8287},{type:N.CHAR,value:12288},{type:N.CHAR,value:65279}],B=()=>[{type:N.CHAR,value:10},{type:N.CHAR,value:13},{type:N.CHAR,value:8232},{type:N.CHAR,value:8233}];var D=()=>({type:N.SET,set:j(),not:!1}),F=()=>({type:N.SET,set:j(),not:!0}),J=()=>({type:N.SET,set:L(),not:!1}),G=()=>({type:N.SET,set:L(),not:!0}),q=()=>({type:N.SET,set:P(),not:!1}),U=()=>({type:N.SET,set:P(),not:!0}),W=()=>({type:N.SET,set:B(),not:!0}),K=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){const r={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,(function(e,t,n,a,s,o,i,l){if(n)return e;var h=t?8:a?parseInt(a,16):s?parseInt(s,16):o?parseInt(o,8):i?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(i):r[l],u=String.fromCharCode(h);return/[[\]{}^$.|?*+()]/.test(u)&&(u="\\"+u),u}))},t.tokenizeClass=(e,r)=>{for(var n,a,s=[],o=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(n=o.exec(e));)if(n[1])s.push(D());else if(n[2])s.push(J());else if(n[3])s.push(q());else if(n[4])s.push(F());else if(n[5])s.push(G());else if(n[6])s.push(U());else if(n[7])s.push({type:N.RANGE,from:(n[8]||n[9]).charCodeAt(0),to:n[10].charCodeAt(0)});else{if(!(a=n[12]))return[s,o.lastIndex];s.push({type:N.CHAR,value:a.charCodeAt(0)})}t.error(r,"Unterminated character class")},t.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}})),Z=(K.strToChars,K.tokenizeClass,K.error,()=>({type:N.POSITION,value:"b"})),z=()=>({type:N.POSITION,value:"B"}),Q=()=>({type:N.POSITION,value:"^"}),V=()=>({type:N.POSITION,value:"$"}),Y=e=>{var t,r,n=0,a={type:N.ROOT,stack:[]},s=a,o=a.stack,i=[],l=t=>{K.error(e,`Nothing to repeat at column ${t-1}`)},h=K.strToChars(e);for(t=h.length;n<t;)switch(r=h[n++]){case"\\":switch(r=h[n++]){case"b":o.push(Z());break;case"B":o.push(z());break;case"w":o.push(D());break;case"W":o.push(F());break;case"d":o.push(J());break;case"D":o.push(G());break;case"s":o.push(q());break;case"S":o.push(U());break;default:/\d/.test(r)?o.push({type:N.REFERENCE,value:parseInt(r,10)}):o.push({type:N.CHAR,value:r.charCodeAt(0)})}break;case"^":o.push(Q());break;case"$":o.push(V());break;case"[":var u;"^"===h[n]?(u=!0,n++):u=!1;var c=K.tokenizeClass(h.slice(n),e);n+=c[1],o.push({type:N.SET,set:c[0],not:u});break;case".":o.push(W());break;case"(":var p={type:N.GROUP,stack:[],remember:!0};"?"===(r=h[n])&&(r=h[n+1],n+=2,"="===r?p.followedBy=!0:"!"===r?p.notFollowedBy=!0:":"!==r&&K.error(e,`Invalid group, character '${r}'`+` after '?' at column ${n-1}`),p.remember=!1),o.push(p),i.push(s),s=p,o=p.stack;break;case")":0===i.length&&K.error(e,`Unmatched ) at column ${n-1}`),o=(s=i.pop()).options?s.options[s.options.length-1]:s.stack;break;case"|":s.options||(s.options=[s.stack],delete s.stack);var m=[];s.options.push(m),o=m;break;case"{":var g,d,f=/^(\d+)(,(\d+)?)?\}/.exec(h.slice(n));null!==f?(0===o.length&&l(n),g=parseInt(f[1],10),d=f[2]?f[3]?parseInt(f[3],10):1/0:g,n+=f[0].length,o.push({type:N.REPETITION,min:g,max:d,value:o.pop()})):o.push({type:N.CHAR,value:123});break;case"?":0===o.length&&l(n),o.push({type:N.REPETITION,min:0,max:1,value:o.pop()});break;case"+":0===o.length&&l(n),o.push({type:N.REPETITION,min:1,max:1/0,value:o.pop()});break;case"*":0===o.length&&l(n),o.push({type:N.REPETITION,min:0,max:1/0,value:o.pop()});break;default:o.push({type:N.CHAR,value:r.charCodeAt(0)})}return 0!==i.length&&K.error(e,"Unterminated group"),a};class X{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new X(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new X(this.low,e.low-1),new X(e.high+1,this.high)]:e.low<=this.low?[new X(e.high+1,this.high)]:[new X(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class ee{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;r.push(e),this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof ee?e.ranges.forEach(r):(null==t&&(t=e),r(new X(e,t))),this}subtract(e,t){var r=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var r=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)r=r.concat(this.ranges[t].subtract(e)),t++;this.ranges=r.concat(this.ranges.slice(t)),this._update_length()};return e instanceof ee?e.ranges.forEach(r):(null==t&&(t=e),r(new X(e,t))),this}intersect(e,t){var r=[],n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var n=Math.max(this.ranges[t].low,e.low),a=Math.min(this.ranges[t].high,e.high);r.push(new X(n,a)),t++}};return e instanceof ee?e.ranges.forEach(n):(null==t&&(t=e),n(new X(e,t))),this.ranges=r,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new ee(this)}numbers(){return this.ranges.reduce((e,t)=>{for(var r=t.low;r<=t.high;)e.push(r),r++;return e},[])}subranges(){return this.ranges.map(e=>({low:e.low,high:e.high,length:1+e.high-e.low}))}}var te=ee;const re=Y.types=N;return(e=>(u.register(["bool",c],["choose",m],["oneOf",g],["date",d],["img",b],["duplicable",w],["lorem",x],["word",R],["sentence",A],["paragraph",C],["gender",I],["title",O],["firstname",M],["firstnames",k],["surname",T],["fullname",H],["regex",$(e)],["shuffle",_]),u.namedata=E,u))(class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=Y(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var r,n,a,s,o;switch(e.type){case re.ROOT:case re.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),n="",s=0,o=(r=e.options?this._randSelect(e.options):e.stack).length;s<o;s++)n+=this._gen(r[s],t);return e.remember&&(t[e.groupNumber]=n),n;case re.POSITION:return"";case re.SET:var i=this._expand(e);return i.length?String.fromCharCode(this._randSelect(i)):"";case re.REPETITION:for(a=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),n="",s=0;s<a;s++)n+=this._gen(e.value,t);return n;case re.REFERENCE:return t[e.value-1]||"";case re.CHAR:var l=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(l)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof te?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===Y.types.CHAR)return new te(e.value);if(e.type===Y.types.RANGE)return new te(e.from,e.to);{let t=new te;for(let r=0;r<e.set.length;r++){let n=this._expand(e.set[r]);if(t.add(n),this.ignoreCase)for(let e=0;e<n.length;e++){let r=n.index(e),a=this._toOtherCase(r);r!==a&&t.add(a)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new te(32,126)}set defaultRange(e){this._range=e}static randexp(t,r){var n;return"string"==typeof t&&(t=new RegExp(t,r)),void 0===t._randexp?(n=new e(t,r),t._randexp=n):(n=t._randexp)._setDefaults(t),n.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}})}));
