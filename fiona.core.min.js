!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Fiona=e()}(this,(function(){"use strict";const t=[],e=[123456789,362436069,521288629,88675123],r=t=>{let[r,n,o,s]=e;const i=()=>{const t=r^r<<11;return[r,n,o]=[n,o,s],(s=s^s>>19^t^t>>8)/2147483647},c=()=>Math.round(1e16*i()),u=t=>{[r,n,o,s]=e.map(e=>e+t),[r,n,o,s]=[c(),c(),c(),c()]};return u(t),{random:()=>i(),reverse:()=>(()=>{let t=s^o^o>>19;return t^=t>>8,t^=t>>16,t^=t<<11,t^=t<<22,[s,o,n]=[o,n,r],r=t,s/2147483647})(),reseed:u,getState:()=>[r,n,o,s],setState:t=>[r,n,o,s]=t}},n=t=>{if("string"==typeof t){let e=0;for(let r=0;r<t.length;r++){let r=0;for(let e=0;e<t.length;e++)r=t.charCodeAt(e)+(r<<6)+(r<<16)-r;e+=r}return e}return t},o=t=>t;var s=(t,e)=>{const{reseed:s,getState:i,setState:c,random:u,reverse:a}=r(0);s(n(e));const f=i(),d=(t=>{let e=o;return r=>"function"==typeof r?(e=r,t):null===r?(e=o,t):e(r)})(t);return{state:e=>void 0===e?i():(c(null===e?f:e),t),reset:r=>(s(n(void 0!==r?r:e)),t),random:()=>d(u()),reverse:a,distribution:d}};function i(t,e){const r=void 0!==t?t:Math.floor(1e8*Math.random()),{state:n,reset:o,random:s,reverse:i,distribution:c}=e(this,r);return Object.assign(this,{state:n,reset:o,random:s,reverse:i,distribution:c}),this.info=()=>({initseed:r}),this}i.prototype={constructor:i};const c=(e,r,n,o)=>null==r?r:r.constructor===Array?((t,e,r,n)=>{for(let o=0;o<e.length;o++)e[o]=c(t,e[o],`${r}[${o}]`,n);return e})(e,r,n,o):r.constructor===Object?((t,e,r,n)=>{for(let o in e)e[o]=c(t,e[o],`${r}.${o}`,n);return e})(e,r,n,o):"function"==typeof r?((e,r,n,o)=>{const i=new e.constructor(`${n}/${e.info().initseed}`,s);i.data=o;const u=-1!==t.indexOf(r)?r():r(i);return c(e,u,n,"root"===n?u:o)})(e,r,n,o):r.constructor===RegExp?((t,e)=>t.regex?t.regex(e):e)(e,r):r,u=t=>null==t?t:t.constructor===Array?t.map(u):t.constructor===Object?Object.entries(t).reduce((t,[e,r])=>({...t,[e]:u(r)}),{}):t,a=(t,e)=>{const r=u(e);return c(t,r,"root",r)},f=t=>new i(t,s);f.version="4.0.0";f.register=((t,e)=>(...r)=>r.forEach(r=>{const[n,o]="function"==typeof r?[r.name,r]:r;t(n[0].toUpperCase()+n.slice(1),(...t)=>e=>o(e,...t)),e(n,(function(...t){return o(this,...t)}))}))((e,r)=>{const n=(...t)=>r(...t);return t.push(n),f[e]=n},(t,e)=>i.prototype[t]=e),f.Random=()=>t=>t.random();return f.register(["clone",t=>f(t.info().initseed).state(t.state())]),f.register(["number",(t,{max:e=1e6,min:r=0,precision:n=0}={})=>{const o=Math.pow(10,n);return Math.floor((t.random()*(1+e-r)+r)*o)/o}],["object",(t,...e)=>e.reduce((e,r)=>a(t,r),{})],["json",(t,...e)=>JSON.stringify(t.object(...e))],["string",(t,[e,...r],...n)=>{const o=a(t,n);return r.reduce((t,e,r)=>`${t}${o[r]}${e}`,e)}],["array",(t,e,r,n=(t=>t))=>{const o="string"==typeof n?t=>t.join(n):n,s="object"==typeof e&&e.constructor===Object?t.number(e):a(t.clone(),e);return o(a(t,Array(s).fill(r)))}]),f}));
