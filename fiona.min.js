!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("fiona",[],t):"object"==typeof exports?exports.fiona=t():e.fiona=t()}(this,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},function(e,t,n){const r=n(2),s=(e,t,n="root",o)=>(void 0===o&&"root"===n&&(o=t),"object"==typeof o&&o.constructor===Object?((e,t,n,r)=>(Object.keys(r).forEach(o=>{const a=`${n}.${o}`;r[o]=s(e,t,a,r[o])}),r))(e,t,n,o):"object"==typeof o&&o.constructor===Array?((e,t,n,r)=>r.map((r,o)=>void 0===r?void 0:s(e,t,`${n}[${o}]`,r,o)))(e,t,n,o):"function"==typeof o?((e,t,n,o)=>{const a=new r(e,n);return s(e,t,n,o(a))})(e,t,n,o):"object"==typeof o&&o.constructor===RegExp&&e.regex?e.regex(o):o);e.exports=s},function(e,t){e.exports=function(e,t){return this.position=t,this.seeded=new e.constructor(`${t}/${e.info().initseed}`),this}},function(e,t){e.exports=((e,t,n)=>{const r=t.reduce((e,t,r)=>(e.push((e[r-1]||0)+("number"==typeof n[r]?n[r]:1)),e),[]),s=e*r[r.length-1];let o;return r.every((e,t)=>s>e||(o=t,!1)),o})},function(e,t,n){const r=n(0),s=()=>[{type:r.RANGE,from:48,to:57}],o=()=>[{type:r.CHAR,value:95},{type:r.RANGE,from:97,to:122},{type:r.RANGE,from:65,to:90}].concat(s()),a=()=>[{type:r.CHAR,value:9},{type:r.CHAR,value:10},{type:r.CHAR,value:11},{type:r.CHAR,value:12},{type:r.CHAR,value:13},{type:r.CHAR,value:32},{type:r.CHAR,value:160},{type:r.CHAR,value:5760},{type:r.RANGE,from:8192,to:8202},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233},{type:r.CHAR,value:8239},{type:r.CHAR,value:8287},{type:r.CHAR,value:12288},{type:r.CHAR,value:65279}];t.words=(()=>({type:r.SET,set:o(),not:!1})),t.notWords=(()=>({type:r.SET,set:o(),not:!0})),t.ints=(()=>({type:r.SET,set:s(),not:!1})),t.notInts=(()=>({type:r.SET,set:s(),not:!0})),t.whitespace=(()=>({type:r.SET,set:a(),not:!1})),t.notWhitespace=(()=>({type:r.SET,set:a(),not:!0})),t.anyChar=(()=>({type:r.SET,set:[{type:r.CHAR,value:10},{type:r.CHAR,value:13},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233}],not:!0}))},function(e,t,n){e.exports=n(6)},function(e,t,n){const r=n(7),s=n(21),o=n(22),a=n(23),i=n(24),u=n(25),{lorem:c,word:l,sentence:h,para:p}=n(26),d=n(27);r.register(["bool",s],["choose",o],["oneOf",a],["date",i],["duplicable",u],["lorem",c],["word",l],["sentence",h],["para",p],["regex",d]),e.exports=r},function(e,t,n){e.exports=n(8)},function(e,t,n){const r=n(9),s=n(10),o=n(11),a=n(16),i=n(17),u=n(18),c=n(19),l=n(20),h=(...e)=>new o(...e);h.version=r.version,h.register=s((e,t)=>h[e]=t,(e,t)=>o.prototype[e]=t),h.random=(()=>({seeded:{random:e}})=>e()),h.value=((...e)=>t=>t.seeded.value(t,...e));h.register(["clone",({seeded:e})=>h(e.info().initseed).state(e.state())]),h.register(["number",a],["object",i],["json",u],["string",l],["array",c]),e.exports=h},function(e){e.exports={version:"2.7.0"}},function(e,t,n){const r=n(2);e.exports=((e,t)=>(...n)=>n.forEach(n=>{let s;"function"==typeof n?(name=n.name,s=n):(name=n[0],s=n[1]),t(name,function(...e){return s({seeded:this},...e)}),e(name,(...e)=>({seeded:t})=>e[0]instanceof r?s({seeded:t}):s({seeded:t},...e))}))},function(e,t,n){const r=n(12);function s(e){const t=void 0!==e?e:Math.floor(1e8*Math.random()),{state:n,reset:s,random:o,distribution:a}=r(this,t);Object.assign(this,{state:n,reset:s,random:o,distribution:a}),this.info=(()=>({initseed:t}));let i={};this.chain=function(...e){return(({seeded:e},t)=>(i=e.object(Object.assign({},i,t)),e))({seeded:this},...e)};return this.value=function(...e){return(()=>Object.assign({},i))({seeded:this},...e)},this}s.prototype={constructor:s},e.exports=s},function(e,t,n){const r=n(13),s=n(14),o=n(15);e.exports=((e,t)=>{const{reseed:n,getState:a,setState:i,random:u}=r(0);n(s(t));const c=a(),l=o(e);return{state:t=>void 0===t?a():(i(null===t?c:t),e),reset:r=>(n(s(void 0!==r?r:t)),e),random:()=>l(u()),distribution:l}})},function(e,t){const n=[123456789,362436069,521288629,88675123];e.exports=(e=>{let[t,r,s,o]=n;const a=()=>{const e=t^t<<11;return[t,r,s]=[r,s,o],(o=o^o>>19^e^e>>8)/2147483647},i=()=>Math.round(1e16*a()),u=e=>{[t,r,s,o]=n.map(t=>t+e),[t,r,s,o]=[i(),i(),i(),i()]};return u(e),{random:()=>a(),reseed:u,getState:()=>[t,r,s,o],setState:e=>[t,r,s,o]=e}})},function(e,t){e.exports=(e=>{if("string"==typeof e){let t=0;for(let n=0;n<e.length;n++){let n=0;for(let t=0;t<e.length;t++)n=e.charCodeAt(t)+(n<<6)+(n<<16)-n;t+=n}return t}return e})},function(e,t){const n=e=>e;e.exports=(e=>{let t=n;return r=>"function"==typeof r?(t=r,e):null===r?(t=n,e):t(r)})},function(e,t){e.exports=(({seeded:e},{max:t=1e6,min:n=0,precision:r=0}={})=>{const s=Math.pow(10,r);return Math.floor((e.random()*(1+t-n)+n)*s)/s})},function(e,t,n){const r=n(1);e.exports=(({seeded:e},t)=>{if("object"!=typeof t||t.constructor!==Object)throw Error("first argument of fiona.object must be an Object");return r(e,t)})},function(e,t){e.exports=(({seeded:e},t,...n)=>JSON.stringify(void 0===t?e.value():e.object(t),...n))},function(e,t,n){const r=n(1);e.exports=(({seeded:e},t,n,s=(e=>e))=>{const o="string"==typeof s?e=>e.join(s):s,a="object"==typeof t&&t.constructor===Object?e.number(t):r(e.clone(),t);return o(r(e,Array(a).fill(n)))})},function(e,t,n){const r=n(1);e.exports=(({seeded:e},[t,...n],...s)=>{const o=n.reduce((e,t,n)=>e.concat(s[n],t),[t]);return r(e,o).join("")})},function(e,t){e.exports=(({seeded:e},{chance:t=.5}={})=>e.random()<t)},function(e,t,n){const r=n(3);e.exports=(({seeded:e},t,n,{weights:s=[]}={})=>{const o=n.slice(0),a=s.slice(0);return Array(t||0).fill(null).map((t,n)=>{const s=r(e.random(),o,a),i=o[s];return o[s]=o[0],o.shift(),i})})},function(e,t,n){const r=n(3);e.exports=(({seeded:e},t,{weights:n=[]}={})=>t[r(e.random(),t,n)])},function(e,t){e.exports=(({seeded:e},{min:t="1940",max:n="2000",long:r=!1}={})=>{const s=1*new Date(t),o=1*new Date(n);if(s>o)throw Error("min date must be lower than max date");const a=o-s,i=new Date(e.number({max:a})+s).toISOString();return r?i:i.slice(0,10)})},function(e,t){e.exports=(({seeded:e},{frequency:t=.1,pool:n=10}={})=>(e.random()<=t&&e.reset(1e16*(Math.floor(e.random()*n+1)/n+1)),e))},function(e,t){e.exports={lorem:({seeded:e},{qty:t=15}={})=>{const n=e.random()<.2?"lorem ipsum ":"";let r=[];for(;r.length<t;)r=r.concat("dolor sit amet consectetur adipisicing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut enim ad minim veniam quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur excepteur sint occaecat cupidatat non proident sunt in culpa qui officia deserunt mollit anim id est laborum".split(" "));const s=Math.ceil(t-t/3),o=Math.ceil(t+t/3)-2;return n+e.choose(e.number({min:s,max:o}),r).join(" ")},word:({seeded:e})=>e.lorem({qty:1}).split(" ")[0],sentence:({seeded:e})=>{const t=e.lorem({qty:25});return t[0].toUpperCase()+t.slice(1)+"."},para:({seeded:e})=>Array(e.number({min:1,max:10})).fill(0).map(t=>e.sentence()).join("  ")}},function(e,t,n){const r=n(28);e.exports=(({seeded:e},t=/[A-F0-9]{16}/)=>{const n=new r(t);return n.randInt=((t,n)=>t+Math.floor(e.random()*(1+n-t))),n.gen()})},function(e,t,n){"use strict";const r=n(29),s=n(32),o=r.types;e.exports=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!=typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=r(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var n,r,s,a,i;switch(e.type){case o.ROOT:case o.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),r="",a=0,i=(n=e.options?this._randSelect(e.options):e.stack).length;a<i;a++)r+=this._gen(n[a],t);return e.remember&&(t[e.groupNumber]=r),r;case o.POSITION:return"";case o.SET:var u=this._expand(e);return u.length?String.fromCharCode(this._randSelect(u)):"";case o.REPETITION:for(s=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),r="",a=0;a<s;a++)r+=this._gen(e.value,t);return r;case o.REFERENCE:return t[e.value-1]||"";case o.CHAR:var c=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(c)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof s?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===r.types.CHAR)return new s(e.value);if(e.type===r.types.RANGE)return new s(e.from,e.to);{let t=new s;for(let n=0;n<e.set.length;n++){let r=this._expand(e.set[n]);if(t.add(r),this.ignoreCase)for(let e=0;e<r.length;e++){let n=r.index(e),s=this._toOtherCase(n);n!==s&&t.add(s)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new s(32,126)}set defaultRange(e){this._range=e}static randexp(t,n){var r;return"string"==typeof t&&(t=new RegExp(t,n)),void 0===t._randexp?(r=new e(t,n),t._randexp=r):(r=t._randexp)._setDefaults(t),r.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}}},function(e,t,n){const r=n(30),s=n(0),o=n(4),a=n(31);e.exports=(e=>{var t,n,i=0,u={type:s.ROOT,stack:[]},c=u,l=u.stack,h=[],p=t=>{r.error(e,`Nothing to repeat at column ${t-1}`)},d=r.strToChars(e);for(t=d.length;i<t;)switch(n=d[i++]){case"\\":switch(n=d[i++]){case"b":l.push(a.wordBoundary());break;case"B":l.push(a.nonWordBoundary());break;case"w":l.push(o.words());break;case"W":l.push(o.notWords());break;case"d":l.push(o.ints());break;case"D":l.push(o.notInts());break;case"s":l.push(o.whitespace());break;case"S":l.push(o.notWhitespace());break;default:/\d/.test(n)?l.push({type:s.REFERENCE,value:parseInt(n,10)}):l.push({type:s.CHAR,value:n.charCodeAt(0)})}break;case"^":l.push(a.begin());break;case"$":l.push(a.end());break;case"[":var f;"^"===d[i]?(f=!0,i++):f=!1;var g=r.tokenizeClass(d.slice(i),e);i+=g[1],l.push({type:s.SET,set:g[0],not:f});break;case".":l.push(o.anyChar());break;case"(":var m={type:s.GROUP,stack:[],remember:!0};"?"===(n=d[i])&&(n=d[i+1],i+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&r.error(e,`Invalid group, character '${n}'`+` after '?' at column ${i-1}`),m.remember=!1),l.push(m),h.push(c),c=m,l=m.stack;break;case")":0===h.length&&r.error(e,`Unmatched ) at column ${i-1}`),l=(c=h.pop()).options?c.options[c.options.length-1]:c.stack;break;case"|":c.options||(c.options=[c.stack],delete c.stack);var y=[];c.options.push(y),l=y;break;case"{":var v,x,b=/^(\d+)(,(\d+)?)?\}/.exec(d.slice(i));null!==b?(0===l.length&&p(i),v=parseInt(b[1],10),x=b[2]?b[3]?parseInt(b[3],10):1/0:v,i+=b[0].length,l.push({type:s.REPETITION,min:v,max:x,value:l.pop()})):l.push({type:s.CHAR,value:123});break;case"?":0===l.length&&p(i),l.push({type:s.REPETITION,min:0,max:1,value:l.pop()});break;case"+":0===l.length&&p(i),l.push({type:s.REPETITION,min:1,max:1/0,value:l.pop()});break;case"*":0===l.length&&p(i),l.push({type:s.REPETITION,min:0,max:1/0,value:l.pop()});break;default:l.push({type:s.CHAR,value:n.charCodeAt(0)})}return 0!==h.length&&r.error(e,"Unterminated group"),u}),e.exports.types=s},function(e,t,n){const r=n(0),s=n(4),o={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,function(e,t,n,r,s,a,i,u){if(n)return e;var c=t?8:r?parseInt(r,16):s?parseInt(s,16):a?parseInt(a,8):i?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(i):o[u],l=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(l)&&(l="\\"+l),l})},t.tokenizeClass=((e,n)=>{for(var o,a,i=[],u=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(o=u.exec(e));)if(o[1])i.push(s.words());else if(o[2])i.push(s.ints());else if(o[3])i.push(s.whitespace());else if(o[4])i.push(s.notWords());else if(o[5])i.push(s.notInts());else if(o[6])i.push(s.notWhitespace());else if(o[7])i.push({type:r.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(a=o[12]))return[i,u.lastIndex];i.push({type:r.CHAR,value:a.charCodeAt(0)})}t.error(n,"Unterminated character class")}),t.error=((e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)})},function(e,t,n){const r=n(0);t.wordBoundary=(()=>({type:r.POSITION,value:"b"})),t.nonWordBoundary=(()=>({type:r.POSITION,value:"B"})),t.begin=(()=>({type:r.POSITION,value:"^"})),t.end=(()=>({type:r.POSITION,value:"$"}))},function(e,t,n){"use strict";class r{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new r(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new r(this.low,e.low-1),new r(e.high+1,this.high)]:e.low<=this.low?[new r(e.high+1,this.high)]:[new r(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class s{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var n=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;n.push(e),this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof s?e.ranges.forEach(n):(null==t&&(t=e),n(new r(e,t))),this}subtract(e,t){var n=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)n=n.concat(this.ranges[t].subtract(e)),t++;this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof s?e.ranges.forEach(n):(null==t&&(t=e),n(new r(e,t))),this}intersect(e,t){var n=[],o=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(;t<this.ranges.length&&e.overlaps(this.ranges[t]);){var s=Math.max(this.ranges[t].low,e.low),o=Math.min(this.ranges[t].high,e.high);n.push(new r(s,o)),t++}};return e instanceof s?e.ranges.forEach(o):(null==t&&(t=e),o(new r(e,t))),this.ranges=n,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new s(this)}}e.exports=s}])});